<html><head><link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../../bower_components/iron-a11y-keys/iron-a11y-keys.html">
<link rel="import" href="../../bower_components/paper-styles/typography.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-fab/paper-fab.html">

</head><body><dom-module id="chat-message-form">

    <style include="iron-flex iron-flex-alignment">
        paper-fab {
            background-color: #652b7c;
        }
    </style>

    <template>
        <div class="horizontal layout">
            <paper-input class="flex" placeholder="Message..." value="{{message::input}}"></paper-input>
            <paper-fab icon="send" on-tap="submit"></paper-fab>
            <iron-a11y-keys target="[[target]]" keys="enter" on-keys-pressed="submit"></iron-a11y-keys>
        </div>
        <iron-ajax method="POST" url="{{postURL}}" content-type="application/json" body="{{_toObjMessage(message)}}" handle-as="text" debounce-duration="300" on-response="_onPostSuccess"></iron-ajax>
    </template>

    <script src="/playRoutes.js"></script>
    </dom-module>
<script src="chat-message-form.js"></script></body></html>