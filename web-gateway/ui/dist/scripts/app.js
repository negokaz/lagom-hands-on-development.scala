'use strict';

/*
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/

(function (document) {
  'use strict';

  // Grab a reference to our auto-binding template
  // and give it some initial binding values
  // Learn more about auto-binding templates at http://goo.gl/Dx1u2g

  var app = document.querySelector('#app');

  // Sets app default base URL
  app.baseUrl = '/';
  if (window.location.port === '') {// if production
    // Uncomment app.baseURL below and
    // set app.baseURL to '/your-pathname/' if running from folder in production
    // app.baseUrl = '/polymer-starter-kit/';
  }

  app.displayInstalledToast = function () {
    // Check to make sure caching is actually enabledâ€”it won't be in the dev environment.
    if (!Polymer.dom(document).querySelector('platinum-sw-cache').disabled) {
      Polymer.dom(document).querySelector('#caching-complete').show();
    }
  };

  // Listen for template bound event to know when bindings
  // have resolved and content has been stamped to the page
  app.addEventListener('dom-change', function () {
    console.log('Our app is ready to rock!');
  });

  // See https://github.com/Polymer/polymer/issues/1381
  window.addEventListener('WebComponentsReady', function () {
    // imports are loaded and elements have been registered
  });

  // Main area's paper-scroll-header-panel custom condensing transformation of
  // the appName in the middle-container and the bottom title in the bottom-container.
  // The appName is moved to top and shrunk on condensing. The bottom sub title
  // is shrunk to nothing on condensing.
  window.addEventListener('paper-header-transform', function (e) {
    var appName = Polymer.dom(document).querySelector('#mainToolbar .app-name');
    var middleContainer = Polymer.dom(document).querySelector('#mainToolbar .middle-container');
    var bottomContainer = Polymer.dom(document).querySelector('#mainToolbar .bottom-container');
    var detail = e.detail;
    var heightDiff = detail.height - detail.condensedHeight;
    var yRatio = Math.min(1, detail.y / heightDiff);
    // appName max size when condensed. The smaller the number the smaller the condensed size.
    var maxMiddleScale = 0.50;
    var auxHeight = heightDiff - detail.y;
    var auxScale = heightDiff / (1 - maxMiddleScale);
    var scaleMiddle = Math.max(maxMiddleScale, auxHeight / auxScale + maxMiddleScale);
    var scaleBottom = 1 - yRatio;

    // Move/translate middleContainer
    Polymer.Base.transform('translate3d(0,' + yRatio * 100 + '%,0)', middleContainer);

    // Scale bottomContainer and bottom sub title to nothing and back
    Polymer.Base.transform('scale(' + scaleBottom + ') translateZ(0)', bottomContainer);

    // Scale middleContainer appName
    Polymer.Base.transform('scale(' + scaleMiddle + ') translateZ(0)', appName);
  });

  // Scroll page to top and expand header
  app.scrollPageToTop = function () {
    app.$.headerPanelMain.scrollToTop(true);
  };

  app.closeDrawer = function () {
    app.$.paperDrawerPanel.closeDrawer();
  };
})(document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMvYXBwLmpzIl0sIm5hbWVzIjpbImRvY3VtZW50IiwiYXBwIiwicXVlcnlTZWxlY3RvciIsImJhc2VVcmwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInBvcnQiLCJkaXNwbGF5SW5zdGFsbGVkVG9hc3QiLCJQb2x5bWVyIiwiZG9tIiwiZGlzYWJsZWQiLCJzaG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNvbnNvbGUiLCJsb2ciLCJlIiwiYXBwTmFtZSIsIm1pZGRsZUNvbnRhaW5lciIsImJvdHRvbUNvbnRhaW5lciIsImRldGFpbCIsImhlaWdodERpZmYiLCJoZWlnaHQiLCJjb25kZW5zZWRIZWlnaHQiLCJ5UmF0aW8iLCJNYXRoIiwibWluIiwieSIsIm1heE1pZGRsZVNjYWxlIiwiYXV4SGVpZ2h0IiwiYXV4U2NhbGUiLCJzY2FsZU1pZGRsZSIsIm1heCIsInNjYWxlQm90dG9tIiwiQmFzZSIsInRyYW5zZm9ybSIsInNjcm9sbFBhZ2VUb1RvcCIsIiQiLCJoZWFkZXJQYW5lbE1haW4iLCJzY3JvbGxUb1RvcCIsImNsb3NlRHJhd2VyIiwicGFwZXJEcmF3ZXJQYW5lbCJdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7Ozs7Ozs7O0FBU0EsQ0FBQyxVQUFTQSxRQUFULEVBQW1CO0FBQ2xCOztBQUVBO0FBQ0E7QUFDQTs7QUFDQSxNQUFJQyxNQUFNRCxTQUFTRSxhQUFULENBQXVCLE1BQXZCLENBQVY7O0FBRUE7QUFDQUQsTUFBSUUsT0FBSixHQUFjLEdBQWQ7QUFDQSxNQUFJQyxPQUFPQyxRQUFQLENBQWdCQyxJQUFoQixLQUF5QixFQUE3QixFQUFpQyxDQUFHO0FBQ2xDO0FBQ0E7QUFDQTtBQUNEOztBQUVETCxNQUFJTSxxQkFBSixHQUE0QixZQUFXO0FBQ3JDO0FBQ0EsUUFBSSxDQUFDQyxRQUFRQyxHQUFSLENBQVlULFFBQVosRUFBc0JFLGFBQXRCLENBQW9DLG1CQUFwQyxFQUF5RFEsUUFBOUQsRUFBd0U7QUFDdEVGLGNBQVFDLEdBQVIsQ0FBWVQsUUFBWixFQUFzQkUsYUFBdEIsQ0FBb0MsbUJBQXBDLEVBQXlEUyxJQUF6RDtBQUNEO0FBQ0YsR0FMRDs7QUFPQTtBQUNBO0FBQ0FWLE1BQUlXLGdCQUFKLENBQXFCLFlBQXJCLEVBQW1DLFlBQVc7QUFDNUNDLFlBQVFDLEdBQVIsQ0FBWSwyQkFBWjtBQUNELEdBRkQ7O0FBSUE7QUFDQVYsU0FBT1EsZ0JBQVAsQ0FBd0Isb0JBQXhCLEVBQThDLFlBQVc7QUFDdkQ7QUFDRCxHQUZEOztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FSLFNBQU9RLGdCQUFQLENBQXdCLHdCQUF4QixFQUFrRCxVQUFTRyxDQUFULEVBQVk7QUFDNUQsUUFBSUMsVUFBVVIsUUFBUUMsR0FBUixDQUFZVCxRQUFaLEVBQXNCRSxhQUF0QixDQUFvQyx3QkFBcEMsQ0FBZDtBQUNBLFFBQUllLGtCQUFrQlQsUUFBUUMsR0FBUixDQUFZVCxRQUFaLEVBQXNCRSxhQUF0QixDQUFvQyxnQ0FBcEMsQ0FBdEI7QUFDQSxRQUFJZ0Isa0JBQWtCVixRQUFRQyxHQUFSLENBQVlULFFBQVosRUFBc0JFLGFBQXRCLENBQW9DLGdDQUFwQyxDQUF0QjtBQUNBLFFBQUlpQixTQUFTSixFQUFFSSxNQUFmO0FBQ0EsUUFBSUMsYUFBYUQsT0FBT0UsTUFBUCxHQUFnQkYsT0FBT0csZUFBeEM7QUFDQSxRQUFJQyxTQUFTQyxLQUFLQyxHQUFMLENBQVMsQ0FBVCxFQUFZTixPQUFPTyxDQUFQLEdBQVdOLFVBQXZCLENBQWI7QUFDQTtBQUNBLFFBQUlPLGlCQUFpQixJQUFyQjtBQUNBLFFBQUlDLFlBQVlSLGFBQWFELE9BQU9PLENBQXBDO0FBQ0EsUUFBSUcsV0FBV1QsY0FBYyxJQUFJTyxjQUFsQixDQUFmO0FBQ0EsUUFBSUcsY0FBY04sS0FBS08sR0FBTCxDQUFTSixjQUFULEVBQXlCQyxZQUFZQyxRQUFaLEdBQXVCRixjQUFoRCxDQUFsQjtBQUNBLFFBQUlLLGNBQWMsSUFBSVQsTUFBdEI7O0FBRUE7QUFDQWYsWUFBUXlCLElBQVIsQ0FBYUMsU0FBYixDQUF1QixtQkFBbUJYLFNBQVMsR0FBNUIsR0FBa0MsTUFBekQsRUFBaUVOLGVBQWpFOztBQUVBO0FBQ0FULFlBQVF5QixJQUFSLENBQWFDLFNBQWIsQ0FBdUIsV0FBV0YsV0FBWCxHQUF5QixpQkFBaEQsRUFBbUVkLGVBQW5FOztBQUVBO0FBQ0FWLFlBQVF5QixJQUFSLENBQWFDLFNBQWIsQ0FBdUIsV0FBV0osV0FBWCxHQUF5QixpQkFBaEQsRUFBbUVkLE9BQW5FO0FBQ0QsR0F0QkQ7O0FBd0JBO0FBQ0FmLE1BQUlrQyxlQUFKLEdBQXNCLFlBQVc7QUFDL0JsQyxRQUFJbUMsQ0FBSixDQUFNQyxlQUFOLENBQXNCQyxXQUF0QixDQUFrQyxJQUFsQztBQUNELEdBRkQ7O0FBSUFyQyxNQUFJc0MsV0FBSixHQUFrQixZQUFXO0FBQzNCdEMsUUFBSW1DLENBQUosQ0FBTUksZ0JBQU4sQ0FBdUJELFdBQXZCO0FBQ0QsR0FGRDtBQUlELENBdkVELEVBdUVHdkMsUUF2RUgiLCJmaWxlIjoic2NyaXB0cy9hcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuQ29weXJpZ2h0IChjKSAyMDE1IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cblxuKGZ1bmN0aW9uKGRvY3VtZW50KSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBHcmFiIGEgcmVmZXJlbmNlIHRvIG91ciBhdXRvLWJpbmRpbmcgdGVtcGxhdGVcbiAgLy8gYW5kIGdpdmUgaXQgc29tZSBpbml0aWFsIGJpbmRpbmcgdmFsdWVzXG4gIC8vIExlYXJuIG1vcmUgYWJvdXQgYXV0by1iaW5kaW5nIHRlbXBsYXRlcyBhdCBodHRwOi8vZ29vLmdsL0R4MXUyZ1xuICB2YXIgYXBwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2FwcCcpO1xuICBcbiAgLy8gU2V0cyBhcHAgZGVmYXVsdCBiYXNlIFVSTFxuICBhcHAuYmFzZVVybCA9ICcvJztcbiAgaWYgKHdpbmRvdy5sb2NhdGlvbi5wb3J0ID09PSAnJykgeyAgLy8gaWYgcHJvZHVjdGlvblxuICAgIC8vIFVuY29tbWVudCBhcHAuYmFzZVVSTCBiZWxvdyBhbmRcbiAgICAvLyBzZXQgYXBwLmJhc2VVUkwgdG8gJy95b3VyLXBhdGhuYW1lLycgaWYgcnVubmluZyBmcm9tIGZvbGRlciBpbiBwcm9kdWN0aW9uXG4gICAgLy8gYXBwLmJhc2VVcmwgPSAnL3BvbHltZXItc3RhcnRlci1raXQvJztcbiAgfVxuXG4gIGFwcC5kaXNwbGF5SW5zdGFsbGVkVG9hc3QgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBDaGVjayB0byBtYWtlIHN1cmUgY2FjaGluZyBpcyBhY3R1YWxseSBlbmFibGVk4oCUaXQgd29uJ3QgYmUgaW4gdGhlIGRldiBlbnZpcm9ubWVudC5cbiAgICBpZiAoIVBvbHltZXIuZG9tKGRvY3VtZW50KS5xdWVyeVNlbGVjdG9yKCdwbGF0aW51bS1zdy1jYWNoZScpLmRpc2FibGVkKSB7XG4gICAgICBQb2x5bWVyLmRvbShkb2N1bWVudCkucXVlcnlTZWxlY3RvcignI2NhY2hpbmctY29tcGxldGUnKS5zaG93KCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIExpc3RlbiBmb3IgdGVtcGxhdGUgYm91bmQgZXZlbnQgdG8ga25vdyB3aGVuIGJpbmRpbmdzXG4gIC8vIGhhdmUgcmVzb2x2ZWQgYW5kIGNvbnRlbnQgaGFzIGJlZW4gc3RhbXBlZCB0byB0aGUgcGFnZVxuICBhcHAuYWRkRXZlbnRMaXN0ZW5lcignZG9tLWNoYW5nZScsIGZ1bmN0aW9uKCkge1xuICAgIGNvbnNvbGUubG9nKCdPdXIgYXBwIGlzIHJlYWR5IHRvIHJvY2shJyk7XG4gIH0pO1xuICBcbiAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9Qb2x5bWVyL3BvbHltZXIvaXNzdWVzLzEzODFcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ1dlYkNvbXBvbmVudHNSZWFkeScsIGZ1bmN0aW9uKCkge1xuICAgIC8vIGltcG9ydHMgYXJlIGxvYWRlZCBhbmQgZWxlbWVudHMgaGF2ZSBiZWVuIHJlZ2lzdGVyZWRcbiAgfSk7XG5cbiAgLy8gTWFpbiBhcmVhJ3MgcGFwZXItc2Nyb2xsLWhlYWRlci1wYW5lbCBjdXN0b20gY29uZGVuc2luZyB0cmFuc2Zvcm1hdGlvbiBvZlxuICAvLyB0aGUgYXBwTmFtZSBpbiB0aGUgbWlkZGxlLWNvbnRhaW5lciBhbmQgdGhlIGJvdHRvbSB0aXRsZSBpbiB0aGUgYm90dG9tLWNvbnRhaW5lci5cbiAgLy8gVGhlIGFwcE5hbWUgaXMgbW92ZWQgdG8gdG9wIGFuZCBzaHJ1bmsgb24gY29uZGVuc2luZy4gVGhlIGJvdHRvbSBzdWIgdGl0bGVcbiAgLy8gaXMgc2hydW5rIHRvIG5vdGhpbmcgb24gY29uZGVuc2luZy5cbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3BhcGVyLWhlYWRlci10cmFuc2Zvcm0nLCBmdW5jdGlvbihlKSB7XG4gICAgdmFyIGFwcE5hbWUgPSBQb2x5bWVyLmRvbShkb2N1bWVudCkucXVlcnlTZWxlY3RvcignI21haW5Ub29sYmFyIC5hcHAtbmFtZScpO1xuICAgIHZhciBtaWRkbGVDb250YWluZXIgPSBQb2x5bWVyLmRvbShkb2N1bWVudCkucXVlcnlTZWxlY3RvcignI21haW5Ub29sYmFyIC5taWRkbGUtY29udGFpbmVyJyk7XG4gICAgdmFyIGJvdHRvbUNvbnRhaW5lciA9IFBvbHltZXIuZG9tKGRvY3VtZW50KS5xdWVyeVNlbGVjdG9yKCcjbWFpblRvb2xiYXIgLmJvdHRvbS1jb250YWluZXInKTtcbiAgICB2YXIgZGV0YWlsID0gZS5kZXRhaWw7XG4gICAgdmFyIGhlaWdodERpZmYgPSBkZXRhaWwuaGVpZ2h0IC0gZGV0YWlsLmNvbmRlbnNlZEhlaWdodDtcbiAgICB2YXIgeVJhdGlvID0gTWF0aC5taW4oMSwgZGV0YWlsLnkgLyBoZWlnaHREaWZmKTtcbiAgICAvLyBhcHBOYW1lIG1heCBzaXplIHdoZW4gY29uZGVuc2VkLiBUaGUgc21hbGxlciB0aGUgbnVtYmVyIHRoZSBzbWFsbGVyIHRoZSBjb25kZW5zZWQgc2l6ZS5cbiAgICB2YXIgbWF4TWlkZGxlU2NhbGUgPSAwLjUwO1xuICAgIHZhciBhdXhIZWlnaHQgPSBoZWlnaHREaWZmIC0gZGV0YWlsLnk7XG4gICAgdmFyIGF1eFNjYWxlID0gaGVpZ2h0RGlmZiAvICgxIC0gbWF4TWlkZGxlU2NhbGUpO1xuICAgIHZhciBzY2FsZU1pZGRsZSA9IE1hdGgubWF4KG1heE1pZGRsZVNjYWxlLCBhdXhIZWlnaHQgLyBhdXhTY2FsZSArIG1heE1pZGRsZVNjYWxlKTtcbiAgICB2YXIgc2NhbGVCb3R0b20gPSAxIC0geVJhdGlvO1xuXG4gICAgLy8gTW92ZS90cmFuc2xhdGUgbWlkZGxlQ29udGFpbmVyXG4gICAgUG9seW1lci5CYXNlLnRyYW5zZm9ybSgndHJhbnNsYXRlM2QoMCwnICsgeVJhdGlvICogMTAwICsgJyUsMCknLCBtaWRkbGVDb250YWluZXIpO1xuXG4gICAgLy8gU2NhbGUgYm90dG9tQ29udGFpbmVyIGFuZCBib3R0b20gc3ViIHRpdGxlIHRvIG5vdGhpbmcgYW5kIGJhY2tcbiAgICBQb2x5bWVyLkJhc2UudHJhbnNmb3JtKCdzY2FsZSgnICsgc2NhbGVCb3R0b20gKyAnKSB0cmFuc2xhdGVaKDApJywgYm90dG9tQ29udGFpbmVyKTtcblxuICAgIC8vIFNjYWxlIG1pZGRsZUNvbnRhaW5lciBhcHBOYW1lXG4gICAgUG9seW1lci5CYXNlLnRyYW5zZm9ybSgnc2NhbGUoJyArIHNjYWxlTWlkZGxlICsgJykgdHJhbnNsYXRlWigwKScsIGFwcE5hbWUpO1xuICB9KTtcblxuICAvLyBTY3JvbGwgcGFnZSB0byB0b3AgYW5kIGV4cGFuZCBoZWFkZXJcbiAgYXBwLnNjcm9sbFBhZ2VUb1RvcCA9IGZ1bmN0aW9uKCkge1xuICAgIGFwcC4kLmhlYWRlclBhbmVsTWFpbi5zY3JvbGxUb1RvcCh0cnVlKTtcbiAgfTtcblxuICBhcHAuY2xvc2VEcmF3ZXIgPSBmdW5jdGlvbigpIHtcbiAgICBhcHAuJC5wYXBlckRyYXdlclBhbmVsLmNsb3NlRHJhd2VyKCk7XG4gIH07XG5cbn0pKGRvY3VtZW50KTtcbiJdfQ==
